{% extends "base.html" %}
{% load staticfiles %}

{% block title %}Add a component{% endblock %}
{% block header %}Add a component{% endblock %}
{% block content %}

<script type="text/javascript" src="{% static "js/jquery-2.1.1.min.js"%}"></script>
<script type="text/javascript" src="{% static "js/jquery.formset.js"%}"></script>
	Add a new component to the database.

	<form id="edit-component" action="" method="post">
		{{ edit_form.as_p }}
		{{ demo_vids.management_form }}
		{{ demo_vids.non_form_errors.as_ul }}
		<table>
			<thead>
			<tr>
				<td>video type</td>
				<td>URL</td>
				<td>start time</td>
				<td>end time</td>
			</tr>
			</thead>
			<tbody>
			{% for vid in demo_vids.forms %}
			{{ vid.non_field_errors }}
			<tr>
				<td>
					{{ vid.video_type.errors.as_ul }}
					{{ vid.video_type }}
				</td>
				<td>
					{{ vid.URL.errors.as_ul }}
					{{ vid.URL }}
					{% if vid.instance.pk %} {{vid.DELETE}} {% endif %}
				</td>
				<td> 
					{{ vid.start_time.errors.as_ul }}
					{{ vid.start_time }}
				</td>
				<td>
					{{ vid.end_time.errors.as_ul }}
					{{ vid.end_time }}
				</td>
			</tr>
			</tbody>
			{% endfor %}
		</table>
		{% for vid_form in demo_vids %}
			{% for hidden in vid_form.hidden_fields %}
				{{ hidden }}
			{% endfor %}
		{% endfor %}

		{{ tips_form.as_p }}
		{% csrf_token %}
		<input type="submit" value="submit">
	</form>

<script type="text/javascript">
    $(function() {
        $('#edit-component tbody tr').formset();
    })
</script>



{% endblock %}
